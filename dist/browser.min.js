"use strict";(()=>{var F=Object.defineProperty;var T=(i,n)=>{for(var c in n)F(i,c,{get:n[c],enumerable:!0})};var v={};T(v,{md5:()=>Q,sha1:()=>G,sha256:()=>E});async function G(i){let n=new TextEncoder().encode(i);return crypto.subtle.digest("SHA-1",n).then(c=>Array.from(new Uint8Array(c)).map(g=>g.toString(16).padStart(2,"0")).join(""))}async function E(i){let n=new TextEncoder().encode(i);return crypto.subtle.digest("SHA-256",n).then(c=>Array.from(new Uint8Array(c)).map(g=>g.toString(16).padStart(2,"0")).join(""))}async function Q(i){var n="0123456789abcdef";function c(h){var u,w="";for(u=0;u<=3;u++)w+=n.charAt(h>>u*8+4&15)+n.charAt(h>>u*8&15);return w}function l(h,u){var w=(h&65535)+(u&65535),x=(h>>16)+(u>>16)+(w>>16);return x<<16|w&65535}function p(h,u){return h<<u|h>>>32-u}function g(h,u,w,x,y,A){return l(p(l(l(u,h),l(x,A)),y),w)}function m(h,u,w,x,y,A,I){return g(u&w|~u&x,h,u,y,A,I)}function f(h,u,w,x,y,A,I){return g(u&x|w&~x,h,u,y,A,I)}function d(h,u,w,x,y,A,I){return g(u^w^x,h,u,y,A,I)}function b(h,u,w,x,y,A,I){return g(w^(u|~x),h,u,y,A,I)}function B(h){var u,w=(h.length+8>>6)+1,x=new Array(w*16);for(u=0;u<w*16;u++)x[u]=0;for(u=0;u<h.length;u++)x[u>>2]|=h.charCodeAt(u)<<u%4*8;return x[u>>2]|=128<<u%4*8,x[w*16-2]=h.length*8,x}var s,a=B(""+i),e=1732584193,t=-271733879,r=-1732584194,o=271733878,N,$,K,U;for(s=0;s<a.length;s+=16)N=e,$=t,K=r,U=o,e=m(e,t,r,o,a[s+0],7,-680876936),o=m(o,e,t,r,a[s+1],12,-389564586),r=m(r,o,e,t,a[s+2],17,606105819),t=m(t,r,o,e,a[s+3],22,-1044525330),e=m(e,t,r,o,a[s+4],7,-176418897),o=m(o,e,t,r,a[s+5],12,1200080426),r=m(r,o,e,t,a[s+6],17,-1473231341),t=m(t,r,o,e,a[s+7],22,-45705983),e=m(e,t,r,o,a[s+8],7,1770035416),o=m(o,e,t,r,a[s+9],12,-1958414417),r=m(r,o,e,t,a[s+10],17,-42063),t=m(t,r,o,e,a[s+11],22,-1990404162),e=m(e,t,r,o,a[s+12],7,1804603682),o=m(o,e,t,r,a[s+13],12,-40341101),r=m(r,o,e,t,a[s+14],17,-1502002290),t=m(t,r,o,e,a[s+15],22,1236535329),e=f(e,t,r,o,a[s+1],5,-165796510),o=f(o,e,t,r,a[s+6],9,-1069501632),r=f(r,o,e,t,a[s+11],14,643717713),t=f(t,r,o,e,a[s+0],20,-373897302),e=f(e,t,r,o,a[s+5],5,-701558691),o=f(o,e,t,r,a[s+10],9,38016083),r=f(r,o,e,t,a[s+15],14,-660478335),t=f(t,r,o,e,a[s+4],20,-405537848),e=f(e,t,r,o,a[s+9],5,568446438),o=f(o,e,t,r,a[s+14],9,-1019803690),r=f(r,o,e,t,a[s+3],14,-187363961),t=f(t,r,o,e,a[s+8],20,1163531501),e=f(e,t,r,o,a[s+13],5,-1444681467),o=f(o,e,t,r,a[s+2],9,-51403784),r=f(r,o,e,t,a[s+7],14,1735328473),t=f(t,r,o,e,a[s+12],20,-1926607734),e=d(e,t,r,o,a[s+5],4,-378558),o=d(o,e,t,r,a[s+8],11,-2022574463),r=d(r,o,e,t,a[s+11],16,1839030562),t=d(t,r,o,e,a[s+14],23,-35309556),e=d(e,t,r,o,a[s+1],4,-1530992060),o=d(o,e,t,r,a[s+4],11,1272893353),r=d(r,o,e,t,a[s+7],16,-155497632),t=d(t,r,o,e,a[s+10],23,-1094730640),e=d(e,t,r,o,a[s+13],4,681279174),o=d(o,e,t,r,a[s+0],11,-358537222),r=d(r,o,e,t,a[s+3],16,-722521979),t=d(t,r,o,e,a[s+6],23,76029189),e=d(e,t,r,o,a[s+9],4,-640364487),o=d(o,e,t,r,a[s+12],11,-421815835),r=d(r,o,e,t,a[s+15],16,530742520),t=d(t,r,o,e,a[s+2],23,-995338651),e=b(e,t,r,o,a[s+0],6,-198630844),o=b(o,e,t,r,a[s+7],10,1126891415),r=b(r,o,e,t,a[s+14],15,-1416354905),t=b(t,r,o,e,a[s+5],21,-57434055),e=b(e,t,r,o,a[s+12],6,1700485571),o=b(o,e,t,r,a[s+3],10,-1894986606),r=b(r,o,e,t,a[s+10],15,-1051523),t=b(t,r,o,e,a[s+1],21,-2054922799),e=b(e,t,r,o,a[s+8],6,1873313359),o=b(o,e,t,r,a[s+15],10,-30611744),r=b(r,o,e,t,a[s+6],15,-1560198380),t=b(t,r,o,e,a[s+13],21,1309151649),e=b(e,t,r,o,a[s+4],6,-145523070),o=b(o,e,t,r,a[s+11],10,-1120210379),r=b(r,o,e,t,a[s+2],15,718787259),t=b(t,r,o,e,a[s+9],21,-343485551),e=l(e,N),t=l(t,$),r=l(r,K),o=l(o,U);return c(e)+c(t)+c(r)+c(o)}var R={};T(R,{LocalStorageAsync:()=>D,init:()=>L});var k="LocalStorageAsync",S="default",P=class{#e;constructor(n=""){let c=k;n&&(c=`${k}:${n}`);let l=indexedDB.open(c);l.onupgradeneeded=function(){l.result.createObjectStore(S)},this.#e=new Promise((p,g)=>{l.onsuccess=function(){let m=l.result;p(m)},l.onerror=function(){g(l.error)}})}async listItems(){let p=(await this.#e).transaction(S,"readonly").objectStore(S).getAllKeys();return new Promise(async(g,m)=>{p.onsuccess=()=>{g(p.result)},p.onerror=()=>{m(p.error)}})}async getItem(n){let g=(await this.#e).transaction(S,"readonly").objectStore(S).get(n);return new Promise(async(m,f)=>{g.onsuccess=()=>{g.result===void 0?m(null):m(g.result)},g.onerror=()=>{f(g.error)}})}async setItem(n,c){let m=(await this.#e).transaction(S,"readwrite").objectStore(S).put(c,n);return new Promise((f,d)=>{m.onsuccess=function(){f()},m.onerror=function(){d(m.error)}})}async removeItem(n){let g=(await this.#e).transaction(S,"readwrite").objectStore(S).delete(n);return new Promise((m,f)=>{g.onsuccess=function(){m()},g.onerror=function(){f(g.error)}})}async getItemJson(n){let c=await this.getItem(n);return c?JSON.parse(c):null}async setItemJson(n,c){let l=JSON.stringify(c,null,2);await this.setItem(n,l)}async close(){(await this.#e).close()}};var V="localStorageAsync";function L(i){let n=V;if(i&&(n+=`_${i}`),Reflect.has(window,n))return Reflect.get(window,n);let c=new P(i);return Reflect.set(window,n,c),c}var D=class{#e;constructor(n){this.#e=new P(n)}listItems(){return this.#e.listItems()}getItem(n){return this.#e.getItem(n)}setItem(n,c){return this.#e.setItem(n,c)}removeItem(n){return this.#e.removeItem(n)}getItemJson(n){return this.#e.getItemJson(n)}setItemJson(n,c){return this.#e.setItemJson(n,c)}close(){return this.#e.close()}};var C={};T(C,{slugify:()=>X,snakeToCamel:()=>Z,stripHtml:()=>ie,stripNaughtyCharacters:()=>_,titleCase:()=>ue});function _(i){return i.replaceAll("\u2019","'").replaceAll("\xA0"," ").replaceAll("\u2013","-").replaceAll("\u2018","'")}var X=i=>i.toString().normalize("NFKD").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\_/g,"-").replace(/\-\-+/g,"-").replace(/\-$/g,"");var Z=i=>i.toLowerCase().replace(/([-_][a-z])/g,n=>n.toUpperCase().replace("-","").replace("_",""));var ee=new RegExp("<h[1-6][^>].*?</h[1-6]>","g"),te=new RegExp("<h[1-6]>.*?</h[1-6]>","g"),re=new RegExp("<pre>.*?</pre>","g"),oe=new RegExp("<pre[^>].*?</pre>","g"),ne=new RegExp("<code>.*?</code>","g"),se=new RegExp("<code[^>].*?</code>","g"),ae=new RegExp("&.*?;","g"),ce=new RegExp("(<([^>]+)>)","g");function ie(i,n=-1){let c=i.replaceAll(ee,"").replaceAll(te,"").replaceAll(oe,"").replaceAll(re,"").replaceAll(se,"").replaceAll(ne,"").replaceAll(ce,"").replaceAll(ae,"").replaceAll(`
`," ").replaceAll("	","").replaceAll("\r","");return n!==-1&&(c=c.substring(0,n)),_(c)}function ue(i){for(var n=i.toLowerCase().split(" "),c=0;c<n.length;c++)n[c]=n[c].charAt(0).toUpperCase()+n[c].substring(1);return n.join(" ")}var q={};T(q,{getPageDocument:()=>fe,textToDomTemplate:()=>O});function O(i){let n=document.createElement("template");return n.innerHTML=i,n.content}var J={};T(J,{request:()=>H});function M(i){for(var n=window.atob(i),c=n.length,l=new Uint8Array(c),p=0;p<c;p++)l[p]=n.charCodeAt(p);return l.buffer}function W(i){return window.btoa(String.fromCharCode(...new Uint8Array(i)))}var le="request";async function Y(i,n){if(n.method&&n.method!=="GET")return window.fetch(i,n);let c="";typeof i=="string"?c=await E(i):c=await E(i.url);let l={Meta:`${c}_meta`,Body:`${c}_body`},p=L(le),g=await p.getItemJson(l.Meta),m=await p.getItem(l.Body);if(g!==null&&m!==null){let s=M(m);return new Response(s,g)}let f=await fetch(i,n);if(!(f.status>=200&&f.status<=399))return f;let d={status:f.status,statusText:f.statusText,headers:{}};f.headers.forEach((s,a)=>d.headers[a]=s);let b=await f.arrayBuffer(),B=W(b);return await p.setItemJson(l.Meta,d),await p.setItem(l.Body,B),new Response(b,f)}async function z(i,n={}){let c;n.storeInCache===void 0||n.storeInCache===!0?c=Y:c=window.fetch;for(let l=0;l<(n.retries||500);l++){let p=await c(i,n);if(p.status>=200&&p.status<=399)return p;await new Promise(g=>setTimeout(g,5e3))}throw new Error(`Too many retries: ${i}`)}async function H(i,n={}){if(!i)throw new Error("No input provided");return z(i,n)}async function fe(i){let c=await(await H(i)).text();return[c,O(c)]}var j={};T(j,{loadScript:()=>pe});async function pe(i){if(!i)throw new Error("No script source provided");let n=document.createElement("script");n.src=i;let c=new Promise(l=>n.onload=l);document.head.appendChild(n),await c}globalThis.alshx=globalThis.alshx||{};globalThis.alshx.crypto=v;globalThis.alshx.localStorage=R;globalThis.alshx.strings=C;globalThis.alshx.web=q;globalThis.alshx.scripts=j;globalThis.alshx.request=J;})();
